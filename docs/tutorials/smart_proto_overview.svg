<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1138px" height="802px" version="1.1" content="&lt;mxfile userAgent=&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36&quot; version=&quot;9.3.0&quot; editor=&quot;www.draw.io&quot; type=&quot;google&quot;&gt;&lt;diagram id=&quot;2a6768b0-ba0f-f406-9920-fefed94a1e4f&quot; name=&quot;Page-1&quot;&gt;7VjbbuM2EP0aA22BBLr4+hjbcfPQtAGSxT4GtERJ7FKkSlK+7Nd3eJElWbLjTZMmBaoXUUNyZjg8czjUIFzku18FKrJ7HmM6CLx4NwiXgyDww+kYXlqyt5KpP7OCVJDYDaoFj+Q7dkI3Ly1JjGVroOKcKlK0hRFnDEeqJUNC8G17WMJp22qBUtwRPEaIdqVfSawyJ/XHs7rjDpM0c6anwcR2rFH0LRW8ZM7eIAgT89juHFW6PCuQGYr5tiEKbwfhQnCubCvfLTDVsa3CZuetTvQe/BaYqUsmTAI/SWb+eDJG8TAcB1duAzaIlrhawpiCrvlaQCvVrZtScVgJZzDwMUdCwftBcMUjrnXfQVzg9RveGFT8scFiQ/DWLVjtqyCbMGHtiA9KtxlR+LFAke7dAqxAlqmcuu5DoDz4SAilC065MIrClXlAngoUE1h5o285Ww1NX8KZWqGcUA3JB4r2TubAF461ESX4t8OOBwdJQ184CkczPTalSErnT8RzErk2rFYRQNINJSkDmeJmJVyQ72ANVetBInKWp/Dlgg5T8e7kTvoHfEDeYZ5jJfYwpJrgdm7f/tw24Rs6YdaEruegiFzOpAfVNW6g4aBzIYymHRg1AHKPpdQJCOiJMpwjaCxxQhhRRGPqGG4//XJd6Mk6kQnF8ufukDfE1ql97SABAgdPL2qO8DlcuZE9+FxVfS/gMxi67z7cvwF8pl4bPpMufoazHvj4fvAO8Jmdg8+8lIQBhDTH8BQ2qA8xtESfDC+eN70QL54XDE/hxfM0Yj4dXsLp8CPx4nsdwPwORQlIFpwlJC0FOsEtkem//lNy9mlwopFyGU48b3gSJxopnw4no1nwoTgZnSxvitZGj/8qdQk2p8A0V5VfNzDE18flqB5QIaWnDsrtMSdNTYpNGSpyRKmOjixwRBICSAJvdR3VPuKu+6BoJbDm4lj2D31fwcYHHt6hvNAqbt7RVKVGFohVsvxQDtzB9ukYDCbzswFozu7TCG9YCzTYWhbmG3wWhKXQYCjXpoz7nt9Q8DpLk+ULo08E8dygI86B5HNmI1jCk64nl1ejLh24i8aLtIRcZUpxotpk4AfHhHHPGZdWU8sc4wx3yMsJ2xx5EQm+AdGMvekrK5hg+h5Mc/oiFZNNtddPmcbiGmdoQ0wS8kQ7omFqjy9RMmZxi/ovW0TTS6yrZ8Mlax0RlVm2gWTa2snrumSipmQySX6UIwcoNhyspCU9llBSSb4Sw269Bf4dYjHFQja01xO7qp6ISc45kmY1X4oYqVeoecBY2LPf/B0IVksiq18FgXe70ZD6YaWNW4udb0oLYHRbWfyoulshzI5fNA2EzR34RAQBlL3B+sL7nyOIjy5ZJx2CuEemFIjaJaupCEySy0iQ9Vk2gKmSSGXHAJfUZ3n3dDuX0qVJvGcF6fgsKYm0/asDY7hJXgbbps0orN0sq2Q1lBRBoVNXNwAWSiQG9+JL80OaXwOy1zDoUhVZtgsnGwMFgbQxqGsLWf1qiA+/Gi51Be6Szzr2hTrhTn3XPLZf1HvT4eDLjG+BXZ9zmfabbtaYmu5NyE041mbRlqn4xvChPRe2hq7/J5t/lWze9d4Dn/UfY9PX+C0f3v4N&lt;/diagram&gt;&lt;/mxfile&gt;"><defs><linearGradient x1="0%" y1="0%" x2="0%" y2="100%" id="mx-gradient-ffffff-1-d9f4ff-1-s-0"><stop offset="0%" style="stop-color:#FFFFFF"/><stop offset="100%" style="stop-color:#D9F4FF"/></linearGradient><linearGradient x1="0%" y1="0%" x2="0%" y2="100%" id="mx-gradient-4f0000-1-ff0000-1-s-0"><stop offset="0%" style="stop-color:#4F0000"/><stop offset="100%" style="stop-color:#FF0000"/></linearGradient><linearGradient x1="0%" y1="0%" x2="0%" y2="100%" id="mx-gradient-002400-1-00ff00-1-s-0"><stop offset="0%" style="stop-color:#002400"/><stop offset="100%" style="stop-color:#00FF00"/></linearGradient><linearGradient x1="0%" y1="0%" x2="0%" y2="100%" id="mx-gradient-000040-1-0000ff-1-s-0"><stop offset="0%" style="stop-color:#000040"/><stop offset="100%" style="stop-color:#0000FF"/></linearGradient></defs><g transform="translate(0.5,0.5)"><rect x="1" y="1" width="1136" height="800" rx="64" ry="64" fill="url(#mx-gradient-ffffff-1-d9f4ff-1-s-0)" stroke="#353596" stroke-width="2" pointer-events="none"/><g transform="translate(186.5,8.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="765" height="84" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 36px; font-family: Play; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 767px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><br />Automaton Smart Protocol High Level Overview</div></div></foreignObject><text x="383" y="60" fill="#000000" text-anchor="middle" font-size="36px" font-family="Play">&lt;br&gt;Automaton Smart Protocol High Level Overview</text></switch></g><rect x="65" y="161" width="496" height="112" rx="16.8" ry="16.8" fill="url(#mx-gradient-4f0000-1-ff0000-1-s-0)" stroke="#800000" stroke-width="2" pointer-events="none"/><g transform="translate(115.5,189.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="395" height="54" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 24px; font-family: Play; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 395px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Protocol Message Schema Definition<br />(*.proto files)<br /></div></div></foreignObject><text x="198" y="39" fill="#FFFFFF" text-anchor="middle" font-size="24px" font-family="Play">Protocol Message Schema Definition&lt;br&gt;(*.proto files)&lt;br&gt;</text></switch></g><rect x="65" y="369" width="496" height="112" rx="16.8" ry="16.8" fill="url(#mx-gradient-002400-1-00ff00-1-s-0)" stroke="#008000" stroke-width="2" pointer-events="none"/><g transform="translate(186.5,397.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="253" height="54" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 24px; font-family: Play; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 255px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Protocol Business Logic<br />(*.lua files)<br /></div></div></foreignObject><text x="127" y="39" fill="#FFFFFF" text-anchor="middle" font-size="24px" font-family="Play">Protocol Business Logic&lt;br&gt;(*.lua files)&lt;br&gt;</text></switch></g><rect x="65" y="577" width="496" height="112" rx="16.8" ry="16.8" fill="url(#mx-gradient-000040-1-0000ff-1-s-0)" stroke="#000080" stroke-width="2" pointer-events="none"/><g transform="translate(207.5,605.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="211" height="54" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 24px; font-family: Play; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 211px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Node Configuration<br />(config.json)<br /></div></div></foreignObject><text x="106" y="39" fill="#FFFFFF" text-anchor="middle" font-size="24px" font-family="Play">Node Configuration&lt;br&gt;(config.json)&lt;br&gt;</text></switch></g><g transform="translate(594.5,162.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="454" height="106" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: monospace; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 455px; white-space: nowrap; overflow-wrap: normal;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><p style="line-height: 100%">Smart Protocol messages are formally specified in .proto files.<br /></p><p style="line-height: 100%">For example:</p><p style="line-height: 100%"><span>message Hello {<br /></span><span>  string name = 1;<br /></span><span>}</span></p><p></p></div></div></foreignObject><text x="227" y="59" fill="#000000" text-anchor="middle" font-size="12px" font-family="Monospace">[Not supported by viewer]</text></switch></g><g transform="translate(594.5,370.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="486" height="106" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 487px; white-space: nowrap; overflow-wrap: normal;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><div>The behavior of a node running a Smart Protocol is defined by the following business logic: </div><ul><li>Wire Protocol Message Handlers</li><li>Time Based Update Handlers</li><li>Peer Connect/Disconnect Event Handlers</li><li>Message Sent Confirmation Handlers</li><li>Error Handlers</li></ul></div></div></foreignObject><text x="243" y="59" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><g transform="translate(594.5,578.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="405" height="92" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 406px; white-space: nowrap; overflow-wrap: normal;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Main configuration file describing a Smart Protocol consisting of:<br /><ul><li>update_time_slice -&gt; how often update is called in milliseconds</li><li>schemas -&gt; list of .proto files containing message schema definitions</li><li>lua_scripts -&gt; lua files containing protocol business logic</li><li>wire_msgs -&gt; messages allowed to be sent over the wire</li></ul></div></div></foreignObject><text x="203" y="52" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g></g></svg>